export const translations = {
  'pt-BR': {
    // Common
    common: {
      save: 'Salvar',
      cancel: 'Cancelar',
      delete: 'Excluir',
      edit: 'Editar',
      add: 'Adicionar',
      search: 'Pesquisar',
      filter: 'Filtrar',
      export: 'Exportar',
      import: 'Importar',
      loading: 'Carregando...',
      error: 'Erro',
      success: 'Sucesso',
      warning: 'Aviso',
      info: 'Informação',
      yes: 'Sim',
      no: 'Não',
      ok: 'OK',
      close: 'Fechar',
      back: 'Voltar',
      next: 'Próximo',
      previous: 'Anterior',
      submit: 'Enviar',
      reset: 'Limpar',
      refresh: 'Atualizar',
      view: 'Visualizar',
      download: 'Baixar',
      upload: 'Enviar',
      print: 'Imprimir',
      share: 'Compartilhar',
      copy: 'Copiar',
      paste: 'Colar',
      cut: 'Recortar',
      select: 'Selecionar',
      selectAll: 'Selecionar Tudo',
      clear: 'Limpar',
      today: 'Hoje',
      yesterday: 'Ontem',
      tomorrow: 'Amanhã',
      thisWeek: 'Esta Semana',
      thisMonth: 'Este Mês',
      thisYear: 'Este Ano',
      active: 'Ativo',
      inactive: 'Inativo',
      enabled: 'Habilitado',
      disabled: 'Desabilitado',
      required: 'Obrigatório',
      optional: 'Opcional',
      total: 'Total',
      subtotal: 'Subtotal',
      quantity: 'Quantidade',
      amount: 'Valor',
      date: 'Data',
      time: 'Hora',
      name: 'Nome',
      email: 'Email',
      phone: 'Telefone',
      address: 'Endereço',
      city: 'Cidade',
      state: 'Estado',
      zipCode: 'CEP',
      country: 'País',
      description: 'Descrição',
      notes: 'Observações',
      status: 'Status',
      type: 'Tipo',
      category: 'Categoria',
      priority: 'Prioridade',
      tags: 'Tags',
      actions: 'Ações'
    },

    // Navigation
    nav: {
      dashboard: 'Dashboard',
      people: 'Pessoas',
      services: 'Serviços',
      groups: 'Grupos',
      offerings: 'Ofertas',
      events: 'Eventos',
      communication: 'Comunicação',
      reports: 'Relatórios',
      settings: 'Configurações',
      profile: 'Perfil',
      logout: 'Sair'
    },

    // Auth
    auth: {
      login: 'Entrar',
      logout: 'Sair',
      register: 'Cadastrar',
      forgotPassword: 'Esqueci a Senha',
      resetPassword: 'Redefinir Senha',
      changePassword: 'Alterar Senha',
      email: 'Email',
      password: 'Senha',
      confirmPassword: 'Confirmar Senha',
      rememberMe: 'Lembrar de mim',
      loginError: 'Email ou senha inválidos',
      loginSuccess: 'Login realizado com sucesso',
      logoutSuccess: 'Logout realizado com sucesso',
      passwordResetSent: 'Email de redefinição enviado',
      passwordResetSuccess: 'Senha redefinida com sucesso',
      invalidCredentials: 'Credenciais inválidas',
      accountLocked: 'Conta bloqueada',
      sessionExpired: 'Sessão expirada'
    },

    // People
    people: {
      title: 'Pessoas',
      addPerson: 'Adicionar Pessoa',
      editPerson: 'Editar Pessoa',
      deletePerson: 'Excluir Pessoa',
      firstName: 'Nome',
      lastName: 'Sobrenome',
      fullName: 'Nome Completo',
      birthDate: 'Data de Nascimento',
      gender: 'Gênero',
      maritalStatus: 'Estado Civil',
      joinDate: 'Data de Ingresso',
      baptismDate: 'Data do Batismo',
      household: 'Família',
      photo: 'Foto',
      isActive: 'Ativo',
      male: 'Masculino',
      female: 'Feminino',
      single: 'Solteiro(a)',
      married: 'Casado(a)',
      divorced: 'Divorciado(a)',
      widowed: 'Viúvo(a)',
      totalPeople: 'Total de Pessoas',
      activePeople: 'Pessoas Ativas',
      newMembers: 'Novos Membros',
      birthdays: 'Aniversários'
    },

    // Services
    services: {
      title: 'Serviços',
      addService: 'Adicionar Serviço',
      editService: 'Editar Serviço',
      deleteService: 'Excluir Serviço',
      serviceName: 'Nome do Serviço',
      serviceType: 'Tipo de Serviço',
      serviceDate: 'Data do Serviço',
      location: 'Local',
      capacity: 'Capacidade',
      attendance: 'Presença',
      checkIn: 'Check-in',
      worship: 'Culto',
      prayer: 'Oração',
      study: 'Estudo',
      meeting: 'Reunião',
      conference: 'Conferência',
      retreat: 'Retiro',
      totalServices: 'Total de Serviços',
      averageAttendance: 'Presença Média',
      lastService: 'Último Serviço'
    },

    // Groups
    groups: {
      title: 'Grupos',
      addGroup: 'Adicionar Grupo',
      editGroup: 'Editar Grupo',
      deleteGroup: 'Excluir Grupo',
      groupName: 'Nome do Grupo',
      groupType: 'Tipo de Grupo',
      schedule: 'Horário',
      members: 'Membros',
      leader: 'Líder',
      cell: 'Célula',
      ministry: 'Ministério',
      choir: 'Coral',
      youth: 'Jovens',
      children: 'Crianças',
      seniors: 'Terceira Idade',
      totalGroups: 'Total de Grupos',
      activeGroups: 'Grupos Ativos',
      totalMembers: 'Total de Membros'
    },

    // Offerings
    offerings: {
      title: 'Ofertas',
      addOffering: 'Adicionar Oferta',
      editOffering: 'Editar Oferta',
      deleteOffering: 'Excluir Oferta',
      origin: 'Origem',
      method: 'Método',
      amount: 'Valor',
      cash: 'Dinheiro',
      card: 'Cartão',
      pix: 'PIX',
      transfer: 'Transferência',
      check: 'Cheque',
      worship: 'Culto',
      tithe: 'Dízimo',
      offering: 'Oferta',
      campaign: 'Campanha',
      totalOfferings: 'Total de Ofertas',
      monthlyTotal: 'Total Mensal',
      averageOffering: 'Oferta Média',
      pixPayments: 'Pagamentos PIX',
      generateReceipt: 'Gerar Recibo',
      annualReport: 'Relatório Anual'
    },

    // Events
    events: {
      title: 'Eventos',
      addEvent: 'Adicionar Evento',
      editEvent: 'Editar Evento',
      deleteEvent: 'Excluir Evento',
      eventName: 'Nome do Evento',
      eventType: 'Tipo de Evento',
      startDate: 'Data de Início',
      endDate: 'Data de Término',
      registrations: 'Inscrições',
      price: 'Preço',
      conference: 'Conferência',
      workshop: 'Workshop',
      retreat: 'Retiro',
      concert: 'Concerto',
      social: 'Social',
      totalEvents: 'Total de Eventos',
      upcomingEvents: 'Próximos Eventos',
      totalRegistrations: 'Total de Inscrições'
    },

    // Communication
    communication: {
      title: 'Comunicação',
      templates: 'Templates',
      campaigns: 'Campanhas',
      messages: 'Mensagens',
      addTemplate: 'Adicionar Template',
      editTemplate: 'Editar Template',
      deleteTemplate: 'Excluir Template',
      templateName: 'Nome do Template',
      subject: 'Assunto',
      content: 'Conteúdo',
      variables: 'Variáveis',
      sendMessage: 'Enviar Mensagem',
      recipients: 'Destinatários',
      allMembers: 'Todos os Membros',
      group: 'Grupo',
      segment: 'Segmento',
      custom: 'Personalizado',
      email: 'Email',
      whatsapp: 'WhatsApp',
      both: 'Ambos',
      sent: 'Enviado',
      delivered: 'Entregue',
      opened: 'Aberto',
      clicked: 'Clicado',
      failed: 'Falhou',
      totalSent: 'Total Enviado',
      deliveryRate: 'Taxa de Entrega',
      openRate: 'Taxa de Abertura'
    },

    // Reports
    reports: {
      title: 'Relatórios',
      attendance: 'Presença',
      offerings: 'Ofertas',
      growth: 'Crescimento',
      demographics: 'Demografia',
      financial: 'Financeiro',
      communication: 'Comunicação',
      generateReport: 'Gerar Relatório',
      exportPDF: 'Exportar PDF',
      exportCSV: 'Exportar CSV',
      dateRange: 'Período',
      filters: 'Filtros',
      summary: 'Resumo',
      details: 'Detalhes',
      charts: 'Gráficos'
    },

    // Settings
    settings: {
      title: 'Configurações',
      general: 'Geral',
      users: 'Usuários',
      permissions: 'Permissões',
      integrations: 'Integrações',
      featureFlags: 'Feature Flags',
      backup: 'Backup',
      churchName: 'Nome da Igreja',
      churchAddress: 'Endereço da Igreja',
      churchPhone: 'Telefone da Igreja',
      churchEmail: 'Email da Igreja',
      timezone: 'Fuso Horário',
      language: 'Idioma',
      currency: 'Moeda',
      dateFormat: 'Formato de Data',
      timeFormat: 'Formato de Hora'
    },

    // Roles
    roles: {
      admin: 'Administrador',
      pastor: 'Pastor',
      treasurer: 'Tesoureiro',
      groupCoordinator: 'Coordenador de Grupos',
      reception: 'Recepção',
      member: 'Membro'
    },

    // Status
    status: {
      active: 'Ativo',
      inactive: 'Inativo',
      pending: 'Pendente',
      confirmed: 'Confirmado',
      cancelled: 'Cancelado',
      completed: 'Concluído',
      draft: 'Rascunho',
      published: 'Publicado',
      archived: 'Arquivado'
    },

    // Messages
    messages: {
      saveSuccess: 'Salvo com sucesso',
      saveError: 'Erro ao salvar',
      deleteSuccess: 'Excluído com sucesso',
      deleteError: 'Erro ao excluir',
      deleteConfirm: 'Tem certeza que deseja excluir?',
      noData: 'Nenhum dado encontrado',
      loadingError: 'Erro ao carregar dados',
      networkError: 'Erro de conexão',
      permissionDenied: 'Permissão negada',
      invalidData: 'Dados inválidos',
      requiredField: 'Campo obrigatório',
      invalidEmail: 'Email inválido',
      invalidPhone: 'Telefone inválido',
      invalidDate: 'Data inválida',
      passwordTooShort: 'Senha muito curta',
      passwordMismatch: 'Senhas não coincidem',
      fileTooBig: 'Arquivo muito grande',
      invalidFileType: 'Tipo de arquivo inválido',
      uploadSuccess: 'Upload realizado com sucesso',
      uploadError: 'Erro no upload',
      exportSuccess: 'Exportação realizada com sucesso',
      exportError: 'Erro na exportação',
      importSuccess: 'Importação realizada com sucesso',
      importError: 'Erro na importação'
    }
  }
}

export type TranslationKey = keyof typeof translations['pt-BR']

class I18nService {
  private currentLocale: string = 'pt-BR'
  private translations = translations

  setLocale(locale: string) {
    if (this.translations[locale as keyof typeof translations]) {
      this.currentLocale = locale
    }
  }

  getLocale(): string {
    return this.currentLocale
  }

  t(key: string, params?: Record<string, string | number>): string {
    const keys = key.split('.')
    let value: any = this.translations[this.currentLocale as keyof typeof translations]

    for (const k of keys) {
      if (value && typeof value === 'object' && k in value) {
        value = value[k]
      } else {
        return key // Return key if translation not found
      }
    }

    if (typeof value !== 'string') {
      return key
    }

    // Replace parameters
    if (params) {
      return value.replace(/\{\{(\w+)\}\}/g, (match, paramKey) => {
        return params[paramKey]?.toString() || match
      })
    }

    return value
  }

  // Format numbers according to locale
  formatNumber(number: number, options?: Intl.NumberFormatOptions): string {
    return new Intl.NumberFormat(this.currentLocale, options).format(number)
  }

  // Format currency
  formatCurrency(amount: number, currency: string = 'BRL'): string {
    return new Intl.NumberFormat(this.currentLocale, {
      style: 'currency',
      currency
    }).format(amount)
  }

  // Format date
  formatDate(date: Date, options?: Intl.DateTimeFormatOptions): string {
    return new Intl.DateTimeFormat(this.currentLocale, options).format(date)
  }

  // Format relative time
  formatRelativeTime(date: Date): string {
    const rtf = new Intl.RelativeTimeFormat(this.currentLocale, { numeric: 'auto' })
    const now = new Date()
    const diffInSeconds = Math.floor((date.getTime() - now.getTime()) / 1000)

    if (Math.abs(diffInSeconds) < 60) {
      return rtf.format(diffInSeconds, 'second')
    }

    const diffInMinutes = Math.floor(diffInSeconds / 60)
    if (Math.abs(diffInMinutes) < 60) {
      return rtf.format(diffInMinutes, 'minute')
    }

    const diffInHours = Math.floor(diffInMinutes / 60)
    if (Math.abs(diffInHours) < 24) {
      return rtf.format(diffInHours, 'hour')
    }

    const diffInDays = Math.floor(diffInHours / 24)
    if (Math.abs(diffInDays) < 30) {
      return rtf.format(diffInDays, 'day')
    }

    const diffInMonths = Math.floor(diffInDays / 30)
    if (Math.abs(diffInMonths) < 12) {
      return rtf.format(diffInMonths, 'month')
    }

    const diffInYears = Math.floor(diffInMonths / 12)
    return rtf.format(diffInYears, 'year')
  }
}

// Singleton instance
export const i18n = new I18nService()

// React hook for translations
export function useTranslation() {
  return {
    t: i18n.t.bind(i18n),
    locale: i18n.getLocale(),
    setLocale: i18n.setLocale.bind(i18n),
    formatNumber: i18n.formatNumber.bind(i18n),
    formatCurrency: i18n.formatCurrency.bind(i18n),
    formatDate: i18n.formatDate.bind(i18n),
    formatRelativeTime: i18n.formatRelativeTime.bind(i18n)
  }
}

// Utility function for server-side translations
export function t(key: string, params?: Record<string, string | number>): string {
  return i18n.t(key, params)
}

